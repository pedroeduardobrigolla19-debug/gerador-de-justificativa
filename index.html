<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerador de Justificativa</title>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #4e73df, #1cc88a);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}
.container {
    background: white;
    padding: 35px;
    border-radius: 20px;
    width: 470px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
}
h2 { text-align: center; }
input, select {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 10px;
    border: 1px solid #ddd;
}
button {
    width: 100%;
    padding: 12px;
    margin-top: 12px;
    border: none;
    border-radius: 10px;
    background: #4e73df;
    color: white;
    font-weight: bold;
    cursor: pointer;
}
#resultado {
    margin-top: 20px;
    white-space: pre-line;
    background: #f8f9fc;
    padding: 15px;
    border-radius: 12px;
    line-height: 1.6;
}
</style>
</head>
<body>

<div class="container">
<h2>Gerador de Justificativa</h2>

<select id="destinatarioTipo">
<option>Professor</option>
<option>Professora</option>
<option>Pedagogo</option>
<option>Pedagoga</option>
</select>

<input type="text" id="recebedorNome" placeholder="Nome de quem vai receber">

<select id="modo">
<option value="formal">Formal (Responsável)</option>
<option value="informal">Informal (Aluno)</option>
</select>

<select id="generoAluno">
<option value="aluno">Aluno</option>
<option value="aluna">Aluna</option>
</select>

<input type="text" id="nomeAluno" placeholder="Nome do aluno(a)">
<input type="date" id="data" min="2020-01-01">

<select id="motivo">
<option value="doenca">Doença</option>
<option value="consulta">Consulta médica</option>
<option value="familia">Compromisso familiar</option>
<option value="pessoal">Problema pessoal</option>
</select>

<button onclick="gerar()">Gerar Justificativa</button>

<div id="resultado"></div>
</div>

<script>

// DATA
const dataInput = document.getElementById("data");
dataInput.max = new Date().toISOString().split("T")[0];

function formatarData(data) {
    const meses = ["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"];
    const partes = data.split("-");
    return partes[2] + " de " + meses[parseInt(partes[1])-1] + " de " + partes[0];
}

// BANCO FORMAL (3ª pessoa)
const bancoFormal = {
    doenca: [
        "no dia {{data}}, apresentou um mal-estar que exigiu repouso.",
        "em {{data}}, esteve impossibilitado(a) de comparecer por questões de saúde.",
        "na data de {{data}}, precisou permanecer em casa por recomendação médica."
    ],
    consulta: [
        "no dia {{data}}, compareceu a uma consulta médica previamente agendada.",
        "em {{data}}, esteve em atendimento médico.",
        "na data de {{data}}, precisou realizar acompanhamento clínico."
    ],
    familia: [
        "em {{data}}, teve compromisso familiar inadiável.",
        "na data mencionada, precisou resolver questão familiar.",
        "no dia {{data}}, esteve envolvido(a) em situação familiar importante."
    ],
    pessoal: [
        "em {{data}}, enfrentou um imprevisto de natureza pessoal.",
        "na referida data, teve uma situação particular que exigiu atenção.",
        "no dia {{data}}, não pôde comparecer por motivo pessoal."
    ]
};

// BANCO INFORMAL (1ª pessoa)
const bancoInformal = {
    doenca: [
        "no dia {{data}} passei mal e precisei ficar em casa.",
        "em {{data}} não estava me sentindo bem.",
        "na data de {{data}} tive um problema de saúde."
    ],
    consulta: [
        "no dia {{data}} tive uma consulta médica.",
        "em {{data}} precisei ir ao médico.",
        "na data mencionada eu estava em atendimento médico."
    ],
    familia: [
        "em {{data}} tive um compromisso familiar importante.",
        "no dia {{data}} precisei resolver uma situação em casa.",
        "na data mencionada estive com minha família em um compromisso necessário."
    ],
    pessoal: [
        "em {{data}} tive um imprevisto pessoal.",
        "no dia {{data}} aconteceu uma situação particular.",
        "na data mencionada precisei resolver algo pessoal."
    ]
};

function gerar() {

    const tipo = document.getElementById("destinatarioTipo").value;
    const nomeRecebe = document.getElementById("recebedorNome").value.trim();
    const modo = document.getElementById("modo").value;
    const genero = document.getElementById("generoAluno").value;
    const nomeAluno = document.getElementById("nomeAluno").value.trim();
    const data = document.getElementById("data").value;
    const motivo = document.getElementById("motivo").value;

    if (!nomeRecebe || !nomeAluno || !data) {
        alert("Preencha todos os campos.");
        return;
    }

    const dataFormatada = formatarData(data);

    let texto;
    const destinatario = tipo + " " + nomeRecebe;

    if (modo === "formal") {

        const frase = bancoFormal[motivo][Math.floor(Math.random()*3)]
        .replace("{{data}}", dataFormatada);

        texto = "Prezado(a) " + destinatario + ",\n\n"
        + "Venho por meio desta justificar a ausência do(a) "
        + genero + " " + nomeAluno + ", pois "
        + frase + "\n\n"
        + "Agradeço a compreensão.";

    } else {

        const frase = bancoInformal[motivo][Math.floor(Math.random()*3)]
        .replace("{{data}}", dataFormatada);

        texto = "Olá " + destinatario + ",\n\n"
        + "Eu, " + nomeAluno + ", não compareci à aula porque "
        + frase + "\n\n"
        + "Peço desculpas pela ausência.";

    }

    document.getElementById("resultado").innerText = texto;
}

</script>

</body>
</html>
