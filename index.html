// Mostrar campo "Outro"
document.getElementById("motivo").addEventListener("change", function() {
    const outro = document.getElementById("motivoOutro");
    outro.style.display = this.value === "outro" ? "block" : "none";
});

// Validação real da data
function validarData(data) {
    const min = new Date("2020-01-01");
    const hoje = new Date();
    const dataObj = new Date(data);

    return dataObj >= min && dataObj <= hoje;
}

function formatarData(data) {
    const meses = [
        "janeiro","fevereiro","março","abril","maio","junho",
        "julho","agosto","setembro","outubro","novembro","dezembro"
    ];

    const partes = data.split("-");
    return partes[2] + " de " + meses[parseInt(partes[1])-1] + " de " + partes[0];
}

function gerar() {

    const nomeDestinatario = document.getElementById("recebedorNome").value.trim();
    const modo = document.getElementById("tom").value;
    const nomeAluno = document.getElementById("nomeAluno").value.trim();
    const data = document.getElementById("data").value;
    const motivo = document.getElementById("motivo").value;
    const motivoPersonalizado = document.getElementById("motivoOutro").value;

    if (!nomeDestinatario || !nomeAluno || !data) {
        alert("Preencha todos os campos obrigatórios.");
        return;
    }

    if (!validarData(data)) {
        alert("Data inválida. A data deve estar entre 01/01/2020 e hoje.");
        return;
    }

    const dados = {
        modo: modo,
        motivo: motivo,
        nomeDestinatario: nomeDestinatario,
        dataFormatada: formatarData(data),
        referenciaAluno: modo === "formal" ? "o(a) aluno(a) " + nomeAluno : "",
        motivoPersonalizado: motivo === "outro" ? motivoPersonalizado : ""
    };

    const texto = gerarTexto(dados);

    document.getElementById("resultado").innerText = texto;
}
<script src="generator.js"></script>
<script src="script.js"></script>
<option value="outro">Outro</option>
<input type="text" id="motivoOutro" placeholder="Descreva o motivo" style="display:none;">
